language: node_js
dist: trusty
node_js:
- '10'
script:
- sonar-scanner
install:
- npm install -g firebase-tools
- curl --compressed -o- -L https://yarnpkg.com/install.sh | bash
- export PATH=$HOME/.yarn/bin:$PATH
after_success:
- yarn global react-scripts
- yarn build
- firebase deploy --project grafos-evolucao-maturidade --token $FIREBASE_TOKEN
addons:
  sonarcloud:
    organization: matheusaraujo
    token:
      secure: $SONAR_TOKEN
cache:
  yarn: true